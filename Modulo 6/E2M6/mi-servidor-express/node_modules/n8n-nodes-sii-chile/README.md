# n8n-nodes-sii-chile ğŸ‡¨ğŸ‡±

**Chile Electronic Invoicing for n8n** - Issue receipts, invoices and more directly to SII.

![SII Chile](https://img.shields.io/badge/SII-Chile-blue)
![n8n](https://img.shields.io/badge/n8n-community--node-orange)
![License](https://img.shields.io/badge/license-MIT-green)

## âœ¨ Features

- âœ… **Issue real DTEs** to SII (Receipts, Invoices, Credit Notes, Debit Notes)
- âœ… **RUT Validation** - Verify, format, calculate check digit
- âœ… **Economic Indicators** - UF, UTM, Dollar, Euro, IPC (live data)
- âœ… **UF â†” Pesos Conversion** automatic
- âœ… **Query status** of issued documents
- âœ… **Supports OpenFactura and SimpleAPI**

## ğŸš€ Installation

### n8n Cloud / Desktop
1. Settings â†’ Community Nodes
2. Search `n8n-nodes-sii-chile`
3. Install

### Self-hosted
```bash
npm install n8n-nodes-sii-chile
```

## âš™ï¸ Configuration

### To issue DTEs you need:

| Provider | Free Plan | Link |
|----------|-----------|------|
| **OpenFactura** | Yes (limited) | [panel.openfactura.cl](https://panel.openfactura.cl) |
| **SimpleAPI** | Yes (100/month) | [simpleapi.cl](https://simpleapi.cl) |

1. Create an account with one of the providers
2. Get your API Key
3. Configure credentials in n8n

### For local functions (RUT, Indicators):
No credentials needed - works without configuration.

## ğŸ“– Usage

### Issue Electronic Receipt

```javascript
// Input
{
  "tipoDte": 39,
  "rutReceptor": "66666666-6",
  "items": [
    { "nombre": "Product 1", "cantidad": 2, "precio": 10000 }
  ]
}

// Output
{
  "success": true,
  "folio": 12345,
  "tipo": 39,
  "tipoNombre": "Receipt",
  "total": 20000,
  "pdf": "https://...",
  "urlAutoservicio": "https://..."
}
```

### Issue Electronic Invoice

```javascript
{
  "tipoDte": 33,
  "rutReceptor": "76123456-7",
  "razonSocial": "Client Company SpA",
  "giro": "Technology Services",
  "direccion": "Main Ave 123",
  "comuna": "Santiago",
  "items": [
    { "nombre": "Monthly Service", "cantidad": 1, "precio": 100000 }
  ]
}
```

### Validate RUT

```javascript
// Input: "12.345.678-5"
// Output:
{
  "valid": true,
  "rut": "12.345.678-5",
  "dv": "5",
  "message": "âœ… Valid RUT"
}
```

### Get UF

```javascript
// Output:
{
  "indicator": "UF",
  "value": 38245.76,
  "date": "2024-01-15",
  "unit": "Pesos"
}
```

### Convert UF to Pesos

```javascript
// Input: 100 UF
// Output:
{
  "uf": 100,
  "pesos": 3824576,
  "valorUf": 38245.76,
  "formatted": "$3,824,576"
}
```

## ğŸ“‹ Supported Document Types

| Code | Document |
|------|----------|
| 33 | Electronic Invoice |
| 34 | Exempt Electronic Invoice |
| 39 | Electronic Receipt |
| 41 | Exempt Electronic Receipt |
| 61 | Electronic Credit Note |
| 56 | Electronic Debit Note |

## ğŸ”§ Available Operations

### ğŸ“„ Issue DTE
- Issue Receipt
- Issue Invoice
- Issue Credit Note
- Issue Debit Note

### ğŸ”¢ RUT
- Validate
- Format (with dots and dash)
- Clean (remove formatting)
- Calculate Check Digit
- Generate valid random RUT

### ğŸ’° Indicators (live data)
- Get all indicators
- UF for today or by date
- UTM
- Observed Dollar
- Euro
- IPC
- Convert UF â†” Pesos

### ğŸ“Š Query DTE
- Document status
- Download PDF
- Download XML

## ğŸŒ Supported Providers

### OpenFactura (Haulmer)
- Most used in Chile
- Simple REST API
- Certification and Production
- [Documentation](https://www.openfactura.cl/factura-electronica/api/)

### SimpleAPI
- Free plan of 100 DTEs/month
- No cost for testing
- [Documentation](https://simpleapi.cl/Productos/SimpleAPI)

## ğŸ’¡ Use Cases

- **E-commerce**: Automatically issue receipts when order completes
- **SaaS**: Generate automatic monthly invoices
- **ERP**: Integrate electronic invoicing
- **Validation**: Verify customer RUT in forms
- **Quotes**: Automatically convert UF prices to pesos

## ğŸ¤ Contributing

1. Fork the repository
2. Create branch: `git checkout -b feature/new-feature`
3. Commit: `git commit -am 'Add feature'`
4. Push: `git push origin feature/new-feature`
5. Pull Request

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE)

## ğŸ‘¨â€ğŸ’» Author

**Manu** - [LatamFlows](https://latamflows.com)

Automation for LATAM ğŸš€

---

**Need a custom integration?** Contact me for custom node development.
